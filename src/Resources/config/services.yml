services:

  _defaults:
    autowire: true
    autoconfigure: true
    public: false

  merconis.session:
    class: LeadingSystems\MerconisBundle\Services\Session
    public: true

  merconis.routing.scope:
    class: LeadingSystems\MerconisBundle\Services\Scope
    public: true

  merconis.eventlistener.kernellistener:
    class: LeadingSystems\MerconisBundle\EventListener\KernelListener
    tags:
      - { name: kernel.event_listener, event: kernel.controller_arguments }

  merconis.eventlistener.loginlistener:
    class: LeadingSystems\MerconisBundle\EventListener\LoginListener
    tags:
      - { name: kernel.event_listener, event: security.interactive_login }

  merconis.eventlistener.sitemaplistener:
    class: LeadingSystems\MerconisBundle\EventListener\SitemapListener
    tags:
      - { name: kernel.event_listener, event: contao.sitemap }

  merconis.controller.backend.product_search:
    class: LeadingSystems\MerconisBundle\Controller\ProductSearchController
    public: true
    arguments:
      - "@contao.framework"

  merconis.controller.backend.pick_value:
    class: LeadingSystems\MerconisBundle\Controller\ValuePickerController
    public: true
    arguments:
      - "@contao.framework"

  merconis.controller.backend.show_mail:
    class: LeadingSystems\MerconisBundle\Controller\ShowMailController
    public: true
    arguments:
      - "@database_connection"
      - "@twig"

  merconis.listener.data_container.layout_options:
    class: Contao\CoreBundle\EventListener\DataContainer\LayoutOptionsListener
    arguments:
      - '@database_connection'
    tags:
      - { name: contao.callback, table: tl_page, target: fields.lsShopLayoutForDetailsView.options }

  merconis.cron.hourly:
    class: LeadingSystems\MerconisBundle\Cronjob\Hourly
    tags:
      - { name: contao.cronjob, interval: hourly }

  merconis.cron.daily:
    class: LeadingSystems\MerconisBundle\Cronjob\Daily
    tags:
      - { name: contao.cronjob, interval: daily }